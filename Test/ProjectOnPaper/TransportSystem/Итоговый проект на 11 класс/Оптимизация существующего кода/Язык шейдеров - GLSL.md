## Введение
GLSL (OpenGL Shading Language) - glSLang - новый язык высокого уровня для создания фрагментных и вершинных шейдеров. 
## Синтаксис
### Комментарии
Комментарии в GLSL пишутся аналогично плюсам - `//` для комментария одной строки `/**/` для комментария всего, что между символами `**`. 
### Переменные и типы данных
GLSL - статически типизируемый язык программирования, значит у каждой переменной есть свой тип данных. Каждой переменной можно добавить `const`, что сделает ее неизменяемой.
#### Скалярные типы данных
`bool` - логический тип принимает значения `true` или `false`
`int` - знаковый 32-х битный целый тип данных
`uint` - беззнаковый `int`
`float` - 32-х битный вещественный тип
`double` - 64-х битный вещественный тип
#### Векторный тип данных
`bvecn`: вектор типа `bool`
`ivecn`: вектор типа `int`
`uvecn`: вектор типа `uint`
`vecn`: вектор типа `float`
`dvecn`: вектор типа `double`
Где `n` - размерность вектора и может принимать значения 2, 3 или 4.
#### Swizzle - свизлинг
Удобный алгоритм доступа к элементам векторов в GLSL. Рассмотрим пример:
```glsl
vec3 vec { 1.0, 2.0, 3.0 };
vec4 a; 
vec3 b;
vec2 c;
float d;
b = vec.xyz;  // b is now (1.0, 2.0, 3.0) 
d = vec[2];   // d is now 3.0 
a = vec.xxxx; // a is now (1.0, 1.0, 1.0, 1.0) 
c = vec.zx;   // c is now (3.0, 1.0) 
b = vec.rgb;  // b is now (1.0, 2.0, 3.0) 
a = vec.yy;   // error; incostistent size
```
GLSL предоставляет несколько масок для связывания переменных:
`xyzw` - координаты
`rgba` - цвета
`stpq` - текстуры
Они не влияют на производительность кода, и по сути являются *синтаксическим сахаром*.
#### Матрицы
`matn` - создает квадратную матрицу `n`-го порядка, где `n` может быть 2, 3 или 4
`matnxm` - матрица с `n` столбцами и `m` строками, где `m` и `n` могут быть 2, 3 или 4
Все матрицы хранят в себе значения типа `float` или `double`, задаются не по строкам, а по столбцам. На пример, чтобы задать матрицу вида: $$\begin{pmatrix}7.0 & 0.0 & 1.0 \\ 4.0 & 2.0 & 3.0 \\ 5.0 & 5.0 & 7.0\end{pmatrix}$$ 
Необходимо написать следующий код:
```glsl
mat3 matB = mat3(7.0, 4.0, 5.0, 0.0, 2.0, 5.0, 1.0, 3.0, 7.0);
```
или задать матрицу при помощи векторов:
```glsl
mat3 matB;
matB[0] = vec3(7.0, 4.0, 5.0);
matB[1] = vec3(0.0, 2.0, 5.0);
matB[2] = vec3(1.0, 3.0, 7.0);
```
#### Sampler
Sampler - переменная, хранящая в себе данные об изображении. Каждый сэмплер в программе представляет собой одну текстуру определенного типа. Тип сэмплера соответствует типу текстуры, которую этот сэмплер может использовать.
Полный список сэмплеров на [вики](https://www.khronos.org/opengl/wiki/Sampler_(GLSL))
#### Массивы
Массивы задаются аналогично С++: указывается тип данных массива, имя, затем размерность в квадратных скобках. 
```glsl
float arr[7]; // массив из 7 элементов
```
#### Структуры
В GLSL также можно задавать пользовательские типы данных - структуры.
```glsl
struct myType
{
	int c1;
	vec3 c2;
}
myType a; // Создаем переменную своего типа
```
#### Функции, циклы, условия
Пишутся аналогично как в C++. Однако, GLSL предоставляет множество встроенных функций, которые можно найти на [сайте](https://shaderific.com/glsl.html).
## Квалификаторы
#### Квалификаторы хранения
Или storage qualifiers, позволяют задавать тип получаемых шейдером значений извне, будь то пройденное время, отступ цвет и прочее. 
`const` – объявление константы.
`attribute` – глобальные переменные, которые могут изменяться для каждой вершины, которые передаются из приложения OpenGL в вершинные шейдеры. Этот квалификатор может использоваться только в вершинных шейдерах. Для шейдера это переменная только для чтения. 
`uniform` – глобальные переменные, которые могут изменяться для каждого примитива и которые передаются из приложения OpenGL шейдерам. Этот квалификатор может использоваться как в вершинных, так и во фрагментарных шейдерах. Для шейдеров это переменная, доступная только для чтения.
`varying` – используется для передачи данных между вершинным шейдером и фрагментным шейдером. Доступно для записи в вершинном шейдере и доступно только для чтения в фрагментном шейдере.

Например, `attribute` - координаты вершин треугольника, `uniform` - общее смещение для вершин того же треугольника.
#### Квалификаторы точности
Влияют на точность расчетов определённых значений после запятой.
`highp` - высокая точность
`mediump` - средняя точность
`lowp` - низкая точность
Они напрямую влияют на производительность, однако при `lowp` могут возникнуть графические артефакты. Например:
```glsl
mediump float myVar; // Переменная с средней точностью
```
или
```glsl
precision highp vec2; // Задаем высокую точность для всех vec2
```


